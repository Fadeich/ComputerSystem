## Cluster

Кластер состоит из сервера и клиентов (ноды), которые обмениваются информацией. Сервер передает нодам задания, которые запускаются на их машинах, а ноды с некоторой заранее заданной периодичностью посылают серверу идентификатор того состояния, в котором они находятся. 

## Состояния ноды
Состояние 1 - ожидание задания 
Состояние 2 - в процессе работы 
Состояние 3 - процесс завершился некорректно, нужно перезапустить процесс 
Состояние 4 - процесс завершился корректно, нужно отправить 'OK', получить длину полученных данных, отправить 'OK' и получить сами данные 

В зависимости от текущего состояния клиента сервер или ждет, или передает новое задание, или если нода перестала отвечать, разрывает соединение с ней. В данной реализации был выбран подход tcp/ip и был использован python3 (библиотеки - socket, subprocess, threading, socketserver, pickle). Сначала нода присылает серверу свой номер, от которого зависит то, какие работы она будет выполнять. Считаем, что задания уже распределенны по нодам (считываются из карты кластера). Далее пока поцесс выполняется, нода присылает состояние 2 на сервер каждые 10 секунд. 

В программе клиента используется два потока, чтобы пока процесс выполняется, нода могла пересылать свое состояние. Массив аргументов для функции call из модуля subprocess передаются в формате потока байтов (кодирование и декодирование с помощью модуля pickle). Если процесс закончился успешно, то нода передает состояние 1, то есть она в ожидании нового задания. Если некорректно, то передается состояние 3. Для каждого задания ноды генерируются файлики - outn.txt и ouMisn.txt для каждого n, где n - это номер задания на этой ноде. В них пишется вывод программы и поток ошибок соответственно. 

Сервер бесконечно ждет подключений (остановить - ctrl-C) и для каждого подключения создает свой поток, который рабодает с массивом, который считывается из карты кластера по ID клиента. 

Перед запуском на своем компьютере не забудьте прописать host и port в программах.
